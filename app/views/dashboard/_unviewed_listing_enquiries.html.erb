<ul role="list" class="divide-y divide-gray-100">
  <% unviewed_listing_enquiries.each do |unviewed_listing_enquiry| %>
    <li class="flex items-center justify-between gap-x-6 py-5">
      <div class="min-w-0">
        <div class="flex items-start gap-x-3">
          <p>From <span class="text-sm font-semibold leading-6 text-gray-900"><%= unviewed_listing_enquiry.sender_name %></span></p>
          <p class="rounded-md whitespace-nowrap mt-0.5 px-1.5 py-0.5 text-xs font-medium ring-1 ring-inset text-blue-700 bg-blue-50 ring-blue-600/20"><%= unviewed_listing_enquiry.property_portal.titleize %></p>
        </div>
        <div class="mt-1 flex items-center gap-x-2 text-xs leading-5 text-gray-500">
          <p class="whitespace-nowrap">Listing ID <%= unviewed_listing_enquiry.reference_id %></p>
        </div>
        <div class="mt-1 flex items-center gap-x-2 text-xs leading-5 text-gray-500">
          <p class="whitespace-nowrap">Sent at <%= render TimeWithZoneComponent.new(date_time: unviewed_listing_enquiry.enquired_at, format: :short, time_zone: @current_agent.time_zone) %></p>
        </div>
      </div>
      <div>
        <p class="text-sm text-gray-900 truncate"><%= unviewed_listing_enquiry.message %></p>
      </div>
      <div class="flex flex-none items-center gap-x-2">
        <%= link_to 'Mark as read', unviewed_listing_enquiry.property, class: 'px-2.5 py-1.5 text-xs font-semibold text-gray-900' %>
        <%= link_to('View property', unviewed_listing_enquiry.property, class: 'rounded-md bg-white px-2.5 py-1.5 text-sm font-semibold text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 hover:bg-gray-50 sm:block') if unviewed_listing_enquiry.property? %>
        <%= link_to('View contact', unviewed_listing_enquiry.contact, class: 'rounded-md bg-white px-2.5 py-1.5 text-sm font-semibold text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 hover:bg-gray-50 sm:block') if unviewed_listing_enquiry.contact? %>
      </div>
    </li>
  <% end %>
</ul>
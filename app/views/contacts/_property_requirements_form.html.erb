<section aria-labelledby="timeline-title" class="lg:col-start-3 lg:col-span-1">
  <div class="bg-white shadow sm:rounded-lg">
    <div class="px-4 py-5 sm:px-6">
      <h2 id="timeline-title" class="text-lg font-medium text-gray-900">Add property requirement</h2>
    </div>
    <div class="px-4 py-5 sm:px-6 border-t border-gray-200">
      <%= form_with model: contact.property_requirements.build, url: contact_property_requirements_path(contact) do |form| %>
        <div class="flow-root space-y-6">

            <div class="sm:col-span-6">
              <div class="col-span-6 sm:col-span-3">
                <%= render FormLabelComponent.new(form: form, name: :contract_type, title: 'Contract type') %>
                <%= form.select :contract_type, [['For lease', :for_lease], ['For sale', :for_sale], ['For lease and sale', :for_lease_and_sale]], { }, { class: 'mt-1 block w-full py-2 px-3 border border-gray-300 bg-white rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm' } %>
              </div>
            </div>

          <%= tag.div class: 'space-y-6', data: { controller: 'select', select_url_value: states_addresses_path, select_param_value: 'country', select_target_id_value: 'property_requirement_state' } do %>

            <div class="sm:col-span-6">
              <div class="col-span-6 sm:col-span-3">
                <%= render FormLabelComponent.new(form: form, name: :country, title: 'Country / Region') %>
                <%= form.collection_select :country, Country.all.order(:name), :slug, :name, { prompt: "Select a country" }, { data: { action: 'change->select#change' }, class: 'mt-1 block w-full py-2 px-3 border border-gray-300 bg-white rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm' } %>
              </div>
            </div>

            <%= tag.div class: 'space-y-6', data: { controller: 'select', select_url_value: cities_addresses_path, select_param_value: 'state', select_target_id_value: 'property_requirement_suburbs' } do %>

              <div class="sm:col-span-6">
                <div class="col-span-6 sm:col-span-3">
                  <%= render FormLabelComponent.new(form: form, name: :state, title: 'State') %>
                  <%= form.select :state, [], {}, { data: { action: 'change->select#change', select_target: "select" }, class: 'mt-1 block w-full py-2 px-3 border border-gray-300 bg-white rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm' } %>
                </div>
              </div>

              <div class="sm:col-span-6">
                <div class="col-span-6 sm:col-span-3">
                  <%= render FormLabelComponent.new(form: form, name: :suburbs, title: 'Suburb') %>
                  <%= form.select :suburbs, [], { }, {  multiple: true, data: { select_target: "select" }, class: 'mt-1 block w-full py-2 px-3 border border-gray-300 bg-white rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm' } %>
                </div>
              </div>

            <% end %>

          <% end %>

          <div class="sm:col-span-6">
            <div class="col-span-6 sm:col-span-3">
              <%= form.label :district, class: 'block text-sm font-medium text-gray-700' %>
              <%= form.collection_select :district_id, District.all.order(:name), :id, :name, {}, { class: 'mt-1 block w-full py-2 px-3 border border-gray-300 bg-white rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm' } %>
            </div>
          </div>

          <div class="sm:col-span-6">
            <div class="col-span-6 sm:col-span-3">
              <%= form.label :classification, class: 'block text-sm font-medium text-gray-700' %>
              <%= form.select :classification, ['Commercial', 'Industrial', 'Residential', 'Retail'], {}, { class: 'mt-1 block w-full py-2 px-3 border border-gray-300 bg-white rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm' } %>
            </div>
          </div>

          <div class="col-span-6 flex space-x-4">
            <div>
              <%= render FormLabelComponent.new(form: form, name: :area_from) %>
              <%= render FormTextFieldComponent.new(form: form, name: :area_from, autocomplete: 'area-from') %>
            </div>
            <div>
              <%= render FormLabelComponent.new(form: form, name: :area_to) %>
              <%= render FormTextFieldComponent.new(form: form, name: :area_to, autocomplete: 'area-to') %>
            </div>
          </div>

          <div class="col-span-6 flex space-x-4">
            <div>
              <%= render FormLabelComponent.new(form: form, name: :price_from) %>
              <%= render FormTextFieldComponent.new(form: form, name: :price_from, autocomplete: 'price-from') %>
            </div>
            <div>
              <%= render FormLabelComponent.new(form: form, name: :price_to) %>
              <%= render FormTextFieldComponent.new(form: form, name: :price_to, autocomplete: 'area-to') %>
            </div>
          </div>

        </div>
        <div class="mt-6 flex flex-col justify-stretch">
          <%= form.submit 'Add', class: 'inline-flex items-center justify-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500' %>
        </div>
      <% end %>
    </div>

  </div>
</section>